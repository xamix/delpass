!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Alwan",[],e):"object"==typeof exports?exports.Alwan=e():t.Alwan=e()}(self,(function(){return function(){"use strict";var t={d:function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},e={};t.d(e,{default:function(){return Ut}});const r="alwan",n=`${r}__container`,o=`${r}__palette`,i=`${r}__marker`,s=`${r}__preview`,l=`${r}__button`,a=`${r}__copy-button`,p=`${r}__slider`,u=`${r}__sliders`,h=`${r}__slider--hue`,_=`${r}__slider--alpha`,d=`${r}__input`,c=`${r}__inputs`,g=`${r}__swatch`,f=`${r}__swatches`,m=`${r}__preset-button`,y=`${r}__overlay`,b=`${r}__collapse-button`,v=`${r}--popup`,w=`${r}--open`,$=`${r}--collapse`,x=document,L=x.documentElement,A="button",S="open",H="close",M="color",O="click",j="pointerdown",k="keydown",V="input",z="change",B="focusin",C="hex",E="rgb",I="hsl",F="--lw-"+M,D=[C,E,I],P="afterbegin",Z=t=>"string"==typeof t,q=t=>t.trim(),K=()=>{let t=[],e=(t,e,r,n=!0)=>{e.forEach((e=>{t[(n?"add":"remove")+"EventListener"](e,r)}))};return{t(r,n,o){Z(n)&&(n=[n]),t.push([r,n,o]),e(r,n,o)},i(){t.forEach((([t,r,n])=>{e(t,r,n,!1)})),t=[]}}},{keys:N,assign:R,setPrototypeOf:T,prototype:U}=Object,X=(t,e)=>{let r=N(t);for(const n of r)e(t[n],n)},Y=t=>null!=t,G=()=>x.body,J=(t,e=x,r=!1)=>Z(t)&&q(t)?e["querySelector"+(r?"All":"")](t):t instanceof Element?t:null,Q=(t,e,r)=>{if(t&&e)return e.insertAdjacentElement(r||"beforeend",t)},W=(t,e)=>{t.innerHTML=e},tt=(t,e,r,n,o)=>{const i=x.createElement(t||"div");return e&&(i.className=e),X(n||{},((t,e)=>{"html"===e?W(i,t):t&&i.setAttribute(e,t)})),r&&Q(i,r,o),i},et=t=>t===x?{x:0,y:0,top:0,left:0,right:L.clientWidth,bottom:L.clientHeight}:t.getBoundingClientRect(),rt=t=>t.parentElement,nt=(t,e)=>(rt(e).replaceChild(t,e),t),ot=t=>{t&&t.remove()},it=(t,e=[x])=>(t=rt(t))&&t!==x.body?(/auto|scroll/.test(getComputedStyle(t).overflow)&&e.push(t),it(t,e)):e,st=(t,e,r)=>{t&&Y(r)&&t.style.setProperty(e,r)},lt=(t,e=!0)=>{t.style.display=e?"":"none"},at=(t,e,r)=>{Z(e)&&(e=[e]),e.forEach((e=>{e&&t.classList.toggle(e,r)}))},pt=(t,e,r,n)=>tt(A,l+" "+t,e,R({type:A},r),n),ut=(t,e,r)=>{t.style.transform=`translate(${e}px,${r}px)`},ht=(t,e,r,n)=>tt(V,p+" "+t,e,{type:"range",max:r,step:n}),{parseFloat:_t,parseInt:dt,isFinite:ct}=Number,{min:gt,max:ft,abs:mt,round:yt,PI:bt}=Math,vt=(t,e=100,r=0)=>gt(ft(t,r),e),wt=t=>(yt(t)%360+360)%360,$t="top",xt="bottom",Lt="right",At="left",St="start",Ht="center",Mt="end",Ot={x:"width",y:"height"},jt={x:Lt,y:xt},kt=(t,e,r)=>{let n,o,i,s=K(),l=!1;const a=(r,l=e)=>{e=l;let{theme:a,popover:_,target:d,position:c,margin:g,id:f,toggle:m,shared:y}=r,b=J(d);Z(f)&&!y&&(t.id=f),X(e.p,(({u:t})=>{t&&t(r,e)})),n=e.m._,d=b||n,t.dataset.theme=a,m||y||h(e,!0,!0),lt(n,_||m||y),at(t,v,_),s.i(),o=null,_?(o=((t,e,{v:r,$:n})=>{let o,i={[$t]:[$t,xt,Lt,At],[xt]:[xt,$t,Lt,At],[Lt]:[Lt,At,$t,xt],[At]:[At,Lt,$t,xt]},s={start:[St,Ht,Mt],center:[Ht,St,Mt],end:[Mt,Ht,St]},l=5,[a,p]=Z(n)?n.split("-"):[];return i[a]||(a=xt),p?s[p]||(p=St):p=Ht,r=_t(r),ct(r)&&(l=r),{m:t,A(){let r=et(x),n=et(t),u=et(e);o={x:null,y:null},i[a].some((t=>{let e=t===$t||t===xt?"y":"x",i=r[t],a=n[t],h=l+u[Ot[e]];if(h<=mt(i-a))return o[e]=a+(i?l:-h),e="x"===e?"y":"x",s[p].some((t=>{let i=u[Ot[e]],{[e]:s,[jt[e]]:l}=n,a=r[jt[e]]-s,p=(i+n[Ot[e]])/2;return t===St&&i<=a?(o[e]=s,!0):t===Ht&&p<=l&&p<=a?(o[e]=l-p,!0):t===Mt&&i<=l?(o[e]=l-i,!0):void 0})),!0})),X(o,((t,e)=>{o[e]=null===t?(r[jt[e]]-u[Ot[e]])/2:yt(t)})),ut(e,o.x,o.y)}}})(d,t,{v:g,$:c}),o.A(),i=it(d),s.t(window,"resize",p),i.forEach((t=>{s.t(t,"scroll",p)})),s.t(x,[k,j],u)):(t.style="",Q(t,d,!b&&"afterend"))},p=t=>{var r;l&&(o.A(),r=o.m,i.every((t=>{let{x:e,y:n,bottom:o,right:i}=et(r),{x:s,y:l,bottom:a,right:p}=et(t);return n<a&&o>l&&e<p&&i>s}))||h(e,!1))},u=r=>{if(l){let o,i,{target:s,key:l,shiftKey:a}=r,p=e.p.H._;"Escape"===l||s!==n&&!t.contains(s)&&![...n.labels||[]].some((t=>t.contains(s)))?h(e,!1):"Tab"===l&&(i=[...J(A+","+V,t,!0)].pop(),s!==n||a?(a&&s===p||!a&&s===i)&&(o=n):o=p,o&&(r.preventDefault(),o.focus()))}},h=(r,n,o)=>{r=r||e;let{shared:i,toggle:s,disabled:p}=r.config;p&&!o||(Y(n)||(l&&r!==e&&h(e,!1),n=!l),n!==l&&(i||s||o)&&(n&&(r!==e&&a(r.config,r),e.M.A({},!0),_()),r===e&&(l=n,at(t,w,n),e.j.O(n?S:H,t))))},_=()=>{o&&o.A()};return{k:t,V:a,B:_,C:h,I:()=>l,F:()=>{r.i(),s.i(),t=ot(t),e={}}}},Vt='<svg width="18" height="18" viewBox="0 0 24 24" aria-role="none"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg>',zt=t=>(t<16?"0":"")+t.toString(16),Bt=(t,e,r)=>{let n="",o=t.a,i=e;return o<1&&!r&&(i+="a",n=", "+o),e===E?i+`(${t.r}, ${t.g}, ${t.b+n})`:e===C?"#"+zt(t.r)+zt(t.g)+zt(t.b)+(o<1?zt(yt(255*o)):""):i+`(${t.h}, ${t.s}%, ${t.l}%${n})`},Ct=tt("canvas").getContext("2d"),Et=/^hsla?\(\s*([+-]?\d*\.?\d+)(\w*)?\s*[\s,]\s*([+-]?\d*\.?\d+)%?\s*,?\s*([+-]?\d*\.?\d+)%?(?:\s*[\/,]\s*([+-]?\d*\.?\d+)(%)?)?\s*\)?$/,It=/^#[0-9a-f]{6}$/i,Ft={deg:1,turn:360,rad:180/bt,grad:.9},Dt=(t="",e)=>{let r,n,o="";Z(t)?o=q(t):(n=[E,I].find((e=>e.split("").every((e=>ct(_t(t[e])))))),n&&(o=Bt(t,n)));let[i,s,l,a,p,u,h]=Et.exec(o)||[];if(i)r={h:wt(s*(Ft[l]?Ft[l]:1)),s:yt(vt(a)),l:yt(vt(p)),a:Y(u)?vt(h?u/100:u,1):1},n=I;else if(n=E,Ct.fillStyle="#000",Ct.fillStyle=o,o=Ct.fillStyle,It.test(o))r={r:dt(o.slice(1,3),16),g:dt(o.slice(3,5),16),b:dt(o.slice(5,7),16),a:1};else{let[t,e,n,i]=/\((.+)\)/.exec(o)[1].split(",").map((t=>_t(t)));r={r:t,g:e,b:n,a:i}}return r.a=yt(100*r.a)/100,e?Bt(r,n):{D:n,M:r}};let Pt=null,Zt=0;const qt=t=>{const e=K(),l=tt("",r,G()),p=()=>tt("",n,l),m=kt(l,t,e),v=((t,e,r)=>{let n,s,l,a,p=!1;const u=tt("",o,t,{tabindex:"0"}),h=tt("",i,u),_={ArrowRight:1,ArrowLeft:-1},d={ArrowDown:1,ArrowUp:-1},c=({clientX:t,clientY:r},o,i)=>{let a,p,{x:_,y:d,width:c,height:g}=l;o?(_=n+o.x*c/100,d=s+o.y*g/100):(_=t-_,d=r-d),_=vt(_,c),d=vt(d,g),_===n&&d===s||(n=_,s=d,ut(h,n,s),a=1-d/g,p=a*(1-_/(2*c)),e.M.A({S:1===p||0===p?0:(a-p)/gt(p,1-p),L:p}),e.j.O(M,u),i&&i())};return r.t(u,j,(r=>{a||(a=tt("",y,t)),e.M.P(),l=et(u),p=!0,c(r),u.focus()})),r.t(x,"pointermove",(t=>{p&&c(t)})),r.t(x,"pointerup",(t=>{p&&(e.M.Z(u),a=ot(a),p=!1)})),r.t(u,k,(t=>{let r=t.key;(_[r]||d[r])&&(t.preventDefault(),l=et(u),c({},{x:_[r]||0,y:d[r]||0},(()=>{e.j.O(z,u)})))})),{_:u,u(t,r){e=r||e},A({S:t,L:e}){l=et(u),s=e+t*gt(e,1-e),n=(s?2*(1-e/s):0)*l.width,s=(1-s)*l.height,ut(h,n,s)}}})(l,t,e),w=p(),A=((t,e,r)=>{let n,o,i;const l={u({preview:r,copy:i},l){e=l,i!==!!o&&(o=i?pt(a,n||t,{html:Vt},P):ot(o)),r!==!!n&&(n=r?tt("",s,t,!1,P):ot(n),Q(o,n||t,P))}};return r.t(t,O,(({target:t})=>{if(t===o&&!i&&!e.config.disabled){let t,r=navigator.clipboard,n=e.M.q(!0);r?r.writeText(n):(t=tt(V,"",L,{value:n}),t.select(),x.execCommand("copy"),t=ot(t)),i=!0,W(o,'<svg width="18" height="18" viewBox="0 0 24 24" aria-role="none"><path d="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z"></path></svg>')}})),r.t(t,["mouseout","focusout"],(t=>{t.target===o&&(i&&(i=!1,W(o,Vt)),o.blur())})),l})(w,t,e),S=((t,e,r)=>{let n;const o=tt("",u,t),i=ht(h,o,360);return r.t(o,[V,z],(({target:t,type:r,target:{value:n}})=>{e.M.A(t===i?{h:360-n}:{a:1*n}),e.j.O(r===z?z:M,t)})),{u({opacity:t},r){e=r||e,t!==!!n&&(t?n=ht(_,o,1,.01):(n=ot(n),e.M.A({a:1})))},A({h:t,a:e}){i.value=360-t,n&&(n.value=e)}}})(w,t,e),H=((t,e,r)=>{let n,o,i,s,l=[],a=!1;const p={u({inputs:r,format:a},p){e=p||e,r=r||{},s={},l=D.filter((t=>r[t]));let h=l.length;h?(n||(n=tt("",c,t)),h>1?o||(o=pt("",t,{html:'<svg width="15" height="15" viewBox="0 0 20 20" aria-role="none"><path d="M10 1L5 8h10l-5-7zm0 18l5-7H5l5 7z"></path></svg>'})):o=ot(o)):(n=ot(n),o=ot(o),l=D),i=ft(l.indexOf(a),0),a=l[i],u(a),lt(t,h)},A(t){X(s,((e,r)=>{e.value=t[r]}))}},u=t=>{if(e.M.K(t),n){let r,o,{singleInput:i,opacity:l}=e.config;i||t===C?(r=[t],o={type:"text"}):(r=(t+(l?"a":"")).split(""),o={type:"number",max:t===E?255:100,min:"0"}),W(n,""),r.forEach((t=>{const e=tt("label","",n);s[t]=tt(V,d,e,o),tt("span","",e,{html:t})}))}};return r.t(t,O,(t=>{t.target===o&&(i=(i+1)%l.length,u(l[i]),e.M.A())})),r.t(t,V,(({target:{value:t}})=>{a||(e.M.P(),a=!0);let r="",n={},o=l[i];e.config.singleInput||o===C?r=t:(X(s,((t,e)=>{n[e]=_t(t.value)})),r=Bt(n,o)),e.M.N(r,!0)&&e.j.O(M,target)})),r.t(t,z,(t=>{e.M.Z(t.target),a=!1,e.M.A()})),r.t(t,[k,B],(({target:t,key:r,type:n})=>{t!==o&&(n===B?t.select():"Enter"===r&&e.close())})),p})(p(),t,e),I=((t,e,r)=>{let n,o,i,s,l;const a={u(r={},a){e=a||e,o=r.swatches||o,l=r.toggleSwatches,l=!!Y(l)&&l,Array.isArray(o)&&(s=o.length,s?(n?W(n,""):n=tt("",f,t),o.forEach((t=>{st(pt(g,n),F,Dt(t,!0))})),l?i||(i=pt(b,t,{html:'<svg width="20" height="20" viewBox="0 0 24 24" aria-role="none"><path d="M6.984 14.016l5.016-5.016 5.016 5.016h-10.031z"></path></svg>'})):i=ot(i),at(n,$,l)):(n=ot(n),i=ot(i)))},R(t){s=o.push(t),s>1?st(pt(g,n),F,Dt(t,!0)):a.u()},T(t){let e=o.findIndex(((e,r)=>t===e||dt(t)===r));e>-1&&(s--,ot(n.children[e]),o.splice(e,1),s||a.u())}};return r.t(t,O,(({target:t})=>{t===i?at(n,$):rt(t)===n&&(e.M.N(t.style.getPropertyValue(F)),e.j.O(M,t),e.j.O(z,t))})),a})(l,t,e);return{U:m,H:v,X:A,Y:S,G:H,J:I}},Kt=t=>!!Pt&&t===Pt,Nt=t=>{if(Kt(t)){if(Zt--,Zt>0)return;Pt=null}t.U.F(),t={}},Rt=t=>{let e,r,n;const o={h:0,S:0,L:0,s:0,l:0,r:0,g:0,b:0,a:1},i=t.config,s=(t,e,r)=>(t+(i.opacity?"a":"")).split("").reduce(((t,r,n)=>(t[e?n:r]=o[r],t)),R(e?[]:{},{toString:()=>r||Bt(o,t)})),l=(t,e,r)=>(t%=12,yt(255*(r-e*gt(r,1-r)*ft(-1,gt(t-3,9-t,1)))));return{A(r,s,a,p){if(!i.disabled){R(o,r);let{h:u,S:h,L:_}=o,{U:{k:d},G:c,H:g,Y:f}=t.p;p||(u/=30,o.r=l(u,h,_),o.g=l(u+8,h,_),o.b=l(u+4,h,_)),o.s=yt(100*h),o.l=yt(100*_),e=Bt(o,E),st(t.m._,F,e),st(d,"--h",o.h),st(d,"--rgb",Bt(o,E,!0)),st(d,F,e),a||c.A(i.singleInput||n===C?{[n]:Bt(o,n)}:o),s&&(g.A(o),f.A(o))}},P(){r=Bt(o,n)},Z(e){r!==Bt(o,n)&&t.j.O(z,e)},N(t,e=!1){let r,{D:n,M:i}=Dt(t),s=!1,l=n===E;X(i,((t,e)=>{t!==o[e]&&(s=!0)})),s&&(l?(t=>{let e,r,n,i,s,{r:l,g:a,b:p}=t;l/=255,a/=255,p/=255,e=ft(l,a,p),r=gt(l,a,p),n=e-r,i=(e+r)/2,s=0===n?0:e===l?(a-p)/n%6:e===a?(p-l)/n+2:e===p?(l-a)/n+4:0,R(o,t,{h:wt(60*s),S:n?n/(1-mt(2*i-1)):0,L:i})})(i):r={h:i.h,S:i.s/100,L:i.l/100,a:i.a},this.A(r,!0,e,l))},W(){return{value:e,rgb:t=>s(E,t,e),hsl:t=>s(I,t),hex:()=>Bt(o,C)}},K(t){n=i.format=t}}},Tt={id:"",classname:"",theme:"light",toggle:!0,popover:!0,position:"bottom-start",margin:8,preset:!0,color:"#000",default:"#000",target:"",disabled:!1,format:"rgb",singleInput:!1,inputs:{rgb:!0,hex:!0,hsl:!0},opacity:!0,preview:!0,copy:!0,swatches:[],shared:!1,toggleSwatches:!1};class Ut{static version="1.1.2";static defaults=Tt;constructor(t,e){let r=this;r.config=R({},Ut.defaults),r.j=(t=>{const e={[S]:[],[H]:[],[z]:[],[M]:[]};return{O(r,n){t.config.disabled||(e[r]||[]).forEach((e=>{e(R({type:r,source:n},t.M.W()))}))},tt(t,r){e[t]&&!e[t].includes(r)&&e[t].push(r)},et(t,r){let n=t&&e[t];Y(t)?n&&(Y(r)?e[t]=n.filter((t=>t!==r)):e[t]=[]):X(e,((t,r)=>{e[r]=[]}))}}})(r),r.M=Rt(r),r.m=((t,e)=>{let r=[];const n=K(),o=G(),i=J(t),s=o.contains(i)&&i!==o?i:null,l={_:s||pt(m,o),u({preset:t,classname:o}){let i=l._;s&&t!==(s!==i)&&(n.i(),i=t?nt(pt(m,null,{id:s.id}),s):nt(s,i),n.t(i,O,(t=>{e.p.U.C(e)}))),(!s||t&&Z(o))&&(at(i,r,!1),r=o.split(/\s+/),at(i,r,!0)),l._=i},rt(t){if(Y(t)){let{config:r,p:n}=e,{shared:o,toggle:i}=r,s=n.U.C;r.disabled=l._.disabled=!!t,t?s(e,!1,!0):o||i||s(e,!0,!0)}},F(){s?l.u({preset:!1}):l._=ot(l._),n.i()}};return l})(t,r),r.setOptions(e)}setOptions(t){t=t||{};let e,r=this,n=R(r.config,t),{color:o,disabled:i}=t,s=r.M;r.p=(t=>{let{p:e,config:{shared:r}}=t;if(e){if(Kt(e)===r)return e;e.U.C(t,!1,!0),Nt(e)}return r?(Pt||(Pt=qt(t)),Zt++,Pt):qt(t)})(r),r.m.u(n),e=r.p.U,Kt(r.p)&&e.C(null,!1),e.V(n,r),r.m.rt(i),Y(o)&&s.N(o),s.A()}isOpen(){return this.p.U.I()}open(){this.p.U.C(this,!0)}close(){this.p.U.C(this,!1)}toggle(){this.p.U.C(this)}on(t,e){this.j.tt(t,e)}off(t,e){this.j.et(t,e)}setColor(t){return this.M.N(t),this}getColor(){return this.M.W()}addSwatch(t){this.p.J.R(t)}removeSwatch(t){this.p.J.T(t)}enable(){this.m.rt(!1)}disable(){this.m.rt(!0)}reset(){this.M.N(this.config.default)}reposition(){this.p.U.B()}trigger(t){this.j.O(t)}destroy(){let t=this;t.m.F(),Nt(t.p),X(t,((e,r)=>{delete t[r]})),T(t,U)}}return e=e.default}()}));
//# sourceMappingURL=alwan.min.js.map